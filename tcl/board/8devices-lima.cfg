source [find target/qualcomm_qca4531.cfg]

$_TARGETNAME configure -event reset-init {
	mww 0xb806001c 0xfeceffff ; DDR out of reset; CPU_COLD, CPU_NMI, Full Chip are 0; External reset is 1
	mww 0xb806001c 0xeeceffff ; DDR out of reset; CPU_COLD, CPU_NMI, Full Chip are 0; External Reset is 0
	mww 0xb806001c 0xe6ceffff ; RTC brought out of reset; all other setting retained
	mww 0xb8116c40 0x633c8176     ; Internal Switcher
	mww 0xb8116c44 0x10200000     ; Set PGM bit, Increase the DDR voltage
	mww 0xb81162c0 0x4b962100      ; XTAL
	mww 0xb81162c4 0x480           ; XTAL2
	mww 0xb81162c8 0x04000144      ; XTAL3
	mww 0xb81161c4 0x54086000     ; CPU PLL, Ki = 0x2, Kd = 10
	mww 0xb8116244 0x54086000     ; DDR PLL, Ki = 0x2, Kd = 10
	mww 0xb8050008 0x0131001c 
	mww 0xb8050000 0x40001580     ; 550 MHz;
	mww 0xb8050004 0x40015800     ; 550 MHz; PLL PWD - 1, OUTDIV - 0, RANGE - 0, REFDIV - 1, NINT - 0x18	, NFRAC - 0, REF_CLK assumed to be 25 MHz
	mww 0xb8050008 0x0131001c     ; AHBCLK_FROM_DDRPLL = 1, CPU_RESET_EN_BP_DEASSRT = 0, CPU_RESET_EN_BP_ASRT = 0,
	mww 0xb8050000 0x00001580     ; 550 MHz;
	mww 0xb8050004 0x00015800     ; 550 MHz DDR2 PLL Power Down removed
	mww 0xb8050008 0x01310000     ; Remove AHB, DDR and CPU PLL Bypass
	mww 0xb8050044 0x781003ff     ; Dither Enabled
	mww 0xb8050048 0x003c103f    ; Dither enabled
	mww 0xb8000108 0x401f0042; Note - CPU_DDR_SYNC is 0
	mww 0xb80000b8 0x0000166d ; CAS = 4
	mww 0xb8000000 0xcfaaf33b ; internal CAS = 11
	mww 0xb800015c 0x0000000f
	mww 0xb8000004 0xa272efa8 ; CAS = 4, GATE_OPEN = 8
	mww 0xb8000018 0x000ffff ; x16 mode
	mww 0xb80000c4 0x74444444; Note - CPU_PRIORITY is 0
	mww 0xb80000c8 0x00000444
	mww 0xb8000004 0xa210ee28
	mww 0xb8000004 0xa2b2e1a8
	mww 0xb8000010 0x8
	mww 0xb80000bc 0x0
	mww 0xb8000010 0x10
	mww 0xb80000c0 0x0
	mww 0xb8000010 0x40 
	mww 0xb800000c 0x2
	mww 0xb8000010 0x2
	mww 0xb8000008 0xb43
	mww 0xb8000010 0x1
	mww 0xb8000010 0x8
	mww 0xb8000010 0x4
	mww 0xb8000010 0x4
	mww 0xb8000008 0xa43
	mww 0xb8000010 0x1
	mww 0xb800000c 0x382
	mww 0xb8000010 0x2
	mww 0xb800000c 0x402
	mww 0xb8000010 0x2
	mww 0xb8000014 0x40be; REF_CLK=25MHz
	mww 0xb800001C 0x20 ; DQS 0 TAP
	mww 0xb8000020 0x20 ; DQS 1 TAP
	mww 0xb80000cc 0xfffff ; Set to max value
	mww 0xb8040000 0xff30b; 
	mww 0xb8040044 0x908; 
	mww 0xb8040034 0x160000; 
}

set ram_boot_address 0xa0000000
$_TARGETNAME configure -work-area-phys 0xa1FFE000 -work-area-size 0x1000

flash bank flash0 ath79 0 0 0 0 $_TARGETNAME cs0
